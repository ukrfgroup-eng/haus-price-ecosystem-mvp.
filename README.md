üèóÔ∏è –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï: MVP "–î–û–ú–ê-–¶–ï–ù–´.–†–§"
üìÅ –ö–û–ú–ü–õ–ï–ö–¢ –§–ê–ô–õ–û–í 
1. –ö–û–†–ù–ï–í–´–ï –§–ê–ô–õ–´ (8 —Ñ–∞–π–ª–æ–≤)
üìÑ README.md (–≥–ª–∞–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ):

markdown
# üèóÔ∏è –î–û–ú–ê-–¶–ï–ù–´.–†–§ - MVP –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞

üöÄ **–ü–µ—Ä–≤–∞—è –≤ –†–æ—Å—Å–∏–∏ AI-—ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥–æ—Ä–æ–¥–Ω–æ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞**
> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π | –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä—Ç–Ω–µ—Ä—ã | AI-–∞–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤

## üéØ –¶–ï–õ–¨ MVP
–°–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø—Ä–æ—Ç–æ—Ç–∏–ø –∑–∞ 4 –Ω–µ–¥–µ–ª–∏ —Å 4 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –±–ª–æ–∫–∞–º–∏:

1. **–ë–ª–æ–∫ A** - –ë–∞–∑–∞ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ (–Ω–µ–¥–µ–ª–∏ 1-2)
2. **–ë–ª–æ–∫ B** - –ë–æ—Ç-–ø—Ä–æ–≤–æ–¥–Ω–∏–∫ —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º (–Ω–µ–¥–µ–ª–∏ 2-3)
3. **–ë–ª–æ–∫ C** - –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–Ω–µ–¥–µ–ª–∏ 3-4)
4. **–ë–ª–æ–∫ D** - –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ (–Ω–µ–¥–µ–ª—è 4)

## üèóÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê
haus-price-ecosystem-mvp/
‚îú‚îÄ‚îÄ üìÅ BLOCK_A_PARTNERS_DB/ # –ë–ª–æ–∫ A: –ë–∞–∑–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ + –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÅ BLOCK_B_BOT_AI/ # –ë–ª–æ–∫ B: –ë–æ—Ç-–ø—Ä–æ–≤–æ–¥–Ω–∏–∫ + AI-–∞–Ω–∞–ª–∏–∑
‚îú‚îÄ‚îÄ üìÅ BLOCK_C_INTEGRATIONS/ # –ë–ª–æ–∫ C: –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ üìÅ BLOCK_D_MONETIZATION/ # –ë–ª–æ–∫ D: –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ üìÅ infrastructure/ # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Docker, Nginx)
‚îú‚îÄ‚îÄ üìÅ tests/ # –¢–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞
‚îú‚îÄ‚îÄ üìÅ docs/ # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÅ .github/workflows/ # GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ üìÑ docker-compose.yml # Docker Compose –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ üìÑ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îî‚îÄ‚îÄ üìÑ .env.example # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

text

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/–≤–∞—à-–∞–∫–∫–∞—É–Ω—Ç/haus-price-ecosystem-mvp.git

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ –≤ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker-compose up -d

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ
cd BLOCK_A_PARTNERS_DB
python main.py
–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
–û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç: https://–¥–æ–º–∞-—Ü–µ–Ω—ã.—Ä—Ñ

–ù–∞—á–∞—Ç—å —á–∞—Ç —Å –±–æ—Ç–æ–º-–ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º

–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–±–æ—Ä–∫—É –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –∑–∞ 5 –º–∏–Ω—É—Ç

üìû –ö–û–ù–¢–ê–ö–¢–´
–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã: haus-price@yandex.ru
–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞: haus-price@yandex.ru
–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞: —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –Ω–∞ —Å–∞–π—Ç–µ

üìÑ –õ–ò–¶–ï–ù–ó–ò–Ø
MIT License - —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª LICENSE

text

**üìÑ requirements.txt** (–æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏):
```txt
# –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫
Flask==2.3.3
Flask-SQLAlchemy==3.0.5
Flask-CORS==4.0.0
Flask-Migrate==4.0.4

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
psycopg2-binary==2.9.7
SQLAlchemy==2.0.19

# AI –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
nltk==3.8.1
scikit-learn==1.3.0
pandas==2.1.1
numpy==1.24.3

# HTTP –∫–ª–∏–µ–Ω—Ç—ã
requests==2.31.0
aiohttp==3.8.5

# –í–∞–ª–∏–¥–∞—Ü–∏—è
pydantic==2.3.0
marshmallow==3.20.1

# –£—Ç–∏–ª–∏—Ç—ã
python-dotenv==1.0.0
python-dateutil==2.8.2
pytz==2023.3

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
pytest==7.4.2
pytest-cov==4.1.0
factory-boy==3.3.0

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
sphinx==7.2.6
üìÑ .env.example (—à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è):

env
# ==================== –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ====================
APP_ENV=development
DEBUG=True
SECRET_KEY=change-this-in-production
APP_NAME=haus-price-mvp

# ==================== –ë–ê–ó–ê –î–ê–ù–ù–´–• ====================
DATABASE_URL=postgresql://user:password@localhost:5432/haus_price_db
DATABASE_TEST_URL=postgresql://user:password@localhost:5433/haus_price_test

# ==================== API –ö–õ–Æ–ß–ò ====================
# API –§–ù–° –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ò–ù–ù
FNS_API_KEY=your_fns_api_key_here
FNS_API_URL=https://api-fns.ru/api/egr

# API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —é—Ä–ª–∏—Ü
DADATA_API_KEY=your_dadata_api_key_here
DADATA_SECRET=your_dadata_secret_here

# ==================== –ë–û–¢–´ –ò –ò–ù–¢–ï–ì–†–ê–¶–ò–ò ====================
# Protalk –±–æ—Ç—ã
PROTALK_CLIENT_BOT_TOKEN=your_protalk_client_bot_token
PROTALK_PARTNER_BOT_TOKEN=your_protalk_partner_bot_token
PROTALK_WEBHOOK_SECRET=your_webhook_secret

# Umnico (—á–∞—Ç –Ω–∞ —Å–∞–π—Ç–µ)
UMNICO_WIDGET_TOKEN=your_umnico_widget_token
UMNICO_API_KEY=your_umnico_api_key

# Telegram (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token

# ==================== –ü–õ–ê–¢–ï–ñ–ù–´–ï –°–ò–°–¢–ï–ú–´ ====================
# –ÆKassa (–Ø–Ω–¥–µ–∫—Å.–ö–∞—Å—Å–∞)
YUKASSA_SHOP_ID=your_shop_id
YUKASSA_SECRET_KEY=your_secret_key

# CloudPayments
CLOUDPAYMENTS_PUBLIC_ID=your_public_id
CLOUDPAYMENTS_API_SECRET=your_api_secret

# ==================== EMAIL –ò –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ====================
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=587
SMTP_USER=your_email@yandex.ru
SMTP_PASSWORD=your_email_password
EMAIL_FROM=noreply@–¥–æ–º–∞-—Ü–µ–Ω—ã.—Ä—Ñ

# ==================== URL –°–ï–†–í–ò–°–û–í ====================
FRONTEND_URL=https://–¥–æ–º–∞-—Ü–µ–Ω—ã.—Ä—Ñ
PARTNER_PORTAL_URL=https://–ø–∞—Ä—Ç–Ω–µ—Ä.–¥–æ–º–∞-—Ü–µ–Ω—ã.—Ä—Ñ
API_BASE_URL=http://localhost:5000/api/v1

# ==================== –õ–ò–ú–ò–¢–´ –ò –¢–ê–†–ò–§–´ ====================
FREE_TIER_LEADS_LIMIT=3
BASIC_TIER_LEADS_LIMIT=15
PREMIUM_TIER_LEADS_LIMIT=50

# ==================== –ù–ê–°–¢–†–û–ô–ö–ò AI ====================
AI_CONFIDENCE_THRESHOLD=0.7
MAX_PARTNERS_PER_REQUEST=5
DEFAULT_RESPONSE_TIME_HOURS=24
üìÑ docker-compose.yml (Docker –¥–ª—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã):

yaml
version: '3.8'

services:
  # PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  postgres:
    image: postgres:15-alpine
    container_name: haus_price_db
    environment:
      POSTGRES_DB: haus_price_db
      POSTGRES_USER: haus_user
      POSTGRES_PASSWORD: haus_password
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./infrastructure/postgresql/init.sql:/docker-entrypoint-initdb.d/init.sql
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U haus_user"]
      interval: 10s
      timeout: 5s
      retries: 5

  # –¢–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  postgres_test:
    image: postgres:15-alpine
    container_name: haus_price_test_db
    environment:
      POSTGRES_DB: haus_price_test
      POSTGRES_USER: test_user
      POSTGRES_PASSWORD: test_password
    ports:
      - "5433:5432"
    volumes:
      - postgres_test_data:/var/lib/postgresql/data

  # MATRIX CORE API (–ë–ª–æ–∫–∏ A, C, D)
  api:
    build:
      context: .
      dockerfile: ./infrastructure/docker/Dockerfile.api
    container_name: haus_price_api
    ports:
      - "5000:5000"
    environment:
      - DATABASE_URL=postgresql://haus_user:haus_password@postgres:5432/haus_price_db
      - APP_ENV=production
    depends_on:
      postgres:
        condition: service_healthy
    volumes:
      - ./logs:/app/logs
    restart: unless-stopped

  # Nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏
  nginx:
    image: nginx:alpine
    container_name: haus_price_nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./infrastructure/nginx/nginx.conf:/etc/nginx/nginx.conf
      - ./infrastructure/nginx/ssl:/etc/nginx/ssl
    depends_on:
      - api
    restart: unless-stopped

  # Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
  redis:
    image: redis:7-alpine
    container_name: haus_price_redis
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    command: redis-server --appendonly yes

volumes:
  postgres_data:
  postgres_test_data:
  redis_data:
üìÑ .gitignore:

gitignore
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Virtual Environment
venv/
env/
ENV/
.env
.env.local
.env.*.local

# Database
*.db
*.sqlite
*.sqlite3

# IDE
.vscode/
.idea/
*.swp
*.swo
*~

# OS
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# Logs
*.log
logs/

# Testing
.coverage
.pytest_cache/
.mypy_cache/

# Docker
docker-compose.override.yml

# Secrets
secrets/
*.pem
*.key

# Temporary files
tmp/
temp/
üìÑ LICENSE (MIT –ª–∏—Ü–µ–Ω–∑–∏—è):

text
MIT License

Copyright (c) 2024 –î–æ–º–∞-–¶–µ–Ω—ã.–†–§

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
2. –ü–ê–ü–ö–ê BLOCK_A_PARTNERS_DB (8 —Ñ–∞–π–ª–æ–≤ + README)
üìÅ BLOCK_A_PARTNERS_DB/init.py:

python
"""
–ë–õ–û–ö A: –ë–ê–ó–ê –ü–ê–†–¢–ù–ï–†–û–í + –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø
–Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã - –±–∞–∑–∞ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ —Å —É—Å–ª—É–≥–∞–º–∏ –∏ —Ü–µ–Ω–∞–º–∏
"""

__version__ = "1.0.0"
__description__ = "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ —Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ –§–ù–° API"

from .models import db, Partner, PartnerVerificationLog
from .verification_service import VerificationService
from .partner_manager import PartnerManager

__all__ = [
    'db',
    'Partner', 
    'PartnerVerificationLog',
    'VerificationService',
    'PartnerManager'
]
üìÅ BLOCK_A_PARTNERS_DB/models.py:

python
"""
–ú–û–î–ï–õ–ò –î–ê–ù–ù–´–• –î–õ–Ø –ë–ê–ó–´ –ü–ê–†–¢–ù–ï–†–û–í
–°–æ–≥–ª–∞—Å–Ω–æ –¢–ó: –ú–û–î–ï–õ–¨ –ü–ê–†–¢–ù–ï–†–ê
"""

from datetime import datetime
from flask_sqlalchemy import SQLAlchemy
from sqlalchemy.dialects.postgresql import JSONB

db = SQLAlchemy()

class Partner(db.Model):
    """–ú–æ–¥–µ–ª—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞ (—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏)"""
    __tablename__ = 'partners'
    
    # –û—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
    id = db.Column(db.Integer, primary_key=True)
    partner_code = db.Column(db.String(50), unique=True, nullable=False)  # P-20231215-0001
    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)
    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)
    
    # ==================== –Æ–†–ò–î–ò–ß–ï–°–ö–ò–ï –î–ê–ù–ù–´–ï ====================
    company_name = db.Column(db.String(200), nullable=False)
    legal_form = db.Column(db.String(20), nullable=False)  # –û–û–û, –ò–ü, –ê–û
    inn = db.Column(db.String(12), unique=True, nullable=False)  # 10-12 —Ü–∏—Ñ—Ä
    ogrn = db.Column(db.String(15))
    kpp = db.Column(db.String(9))
    legal_address = db.Column(db.Text)
    actual_address = db.Column(db.Text)
    registration_date = db.Column(db.Date)  # –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –ï–ì–†–Æ–õ
    
    # ==================== –ö–û–ù–¢–ê–ö–¢–ù–´–ï –î–ê–ù–ù–´–ï ====================
    contact_person = db.Column(db.String(100), nullable=False)
    phone = db.Column(db.String(20), nullable=False)
    email = db.Column(db.String(120), nullable=False)
    website = db.Column(db.String(200))
    telegram = db.Column(db.String(50))
    whatsapp = db.Column(db.String(20))
    
    # ==================== –ü–†–û–§–ò–õ–¨ –£–°–õ–£–ì ====================
    main_category = db.Column(db.String(50), nullable=False)  # –ø–æ–¥—Ä—è–¥—á–∏–∫, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å, –ø—Ä–æ–¥–∞–≤–µ—Ü, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
    specializations = db.Column(JSONB, default=list)  # ["–∫–∞—Ä–∫–∞—Å–Ω—ã–µ –¥–æ–º–∞", "–æ—Ç–¥–µ–ª–∫–∞", "–∫—Ä–æ–≤–ª—è"]
    
    # –£—Å–ª—É–≥–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
    services = db.Column(JSONB, default=list)  # [{service_name: "–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –¥–æ–º–∞", price_range: {min: 1000000, max: 3000000, currency: "RUB"}}]
    
    # ==================== –ì–ï–û–ì–†–ê–§–ò–Ø ====================
    regions = db.Column(JSONB, default=list)  # ["–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"]
    cities = db.Column(JSONB, default=list)   # ["–ú–æ—Å–∫–≤–∞", "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"]
    radius_km = db.Column(db.Integer, default=50)  # –†–∞–¥–∏—É—Å —Ä–∞–±–æ—Ç—ã –≤ –∫–º
    
    # ==================== –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø ====================
    verification_status = db.Column(db.String(20), default='pending', nullable=False)  # pending, verified, rejected
    verification_date = db.Column(db.DateTime)
    verified_by = db.Column(db.String(50))  # system/admin ID
    documents = db.Column(JSONB, default=list)  # [{type: "–û–ì–†–ù", url: "...", verified: true}]
    rejection_reason = db.Column(db.Text)
    
    # ==================== –°–¢–ê–¢–£–° –ò –ù–ê–°–¢–†–û–ô–ö–ò ====================
    is_active = db.Column(db.Boolean, default=True, nullable=False)
    subscription_type = db.Column(db.String(20), default='free', nullable=False)  # free, basic, premium
    subscription_expires = db.Column(db.DateTime)
    max_active_leads = db.Column(db.Integer, default=3)
    
    # –†–µ–π—Ç–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    rating = db.Column(db.Float, default=0.0)  # 0-5
    completed_projects = db.Column(db.Integer, default=0)
    response_rate = db.Column(db.Float, default=0.0)  # –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∑–∞—è–≤–∫–∏
    
    # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è
    settings = db.Column(JSONB, default=dict)  # notification_settings –∏ –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    
    def to_dict(self):
        """–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–ª–æ–≤–∞—Ä—å –¥–ª—è API"""
        return {
            'partner_code': self.partner_code,
            'company_name': self.company_name,
            'legal_form': self.legal_form,
            'inn': self.inn,
            'verification_status': self.verification_status,
            'is_active': self.is_active,
            'contact_person': self.contact_person,
            'phone': self.phone,
            'email': self.email,
            'main_category': self.main_category,
            'specializations': self.specializations,
            'regions': self.regions,
            'rating': self.rating,
            'subscription_type': self.subscription_type,
            'created_at': self.created_at.isoformat() if self.created_at else None
        }

class PartnerVerificationLog(db.Model):
    """–õ–æ–≥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤"""
    __tablename__ = 'partner_verification_logs'
    
    id = db.Column(db.Integer, primary_key=True)
    partner_id = db.Column(db.Integer, db.ForeignKey('partners.id'), nullable=False)
    partner_code = db.Column(db.String(50), nullable=False)
    
    # –î–µ—Ç–∞–ª–∏ –¥–µ–π—Å—Ç–≤–∏—è
    action = db.Column(db.String(50), nullable=False)  # inn_check, document_upload, manual_review
    status = db.Column(db.String(20), nullable=False)  # success, failed, pending
    details = db.Column(JSONB)  # {request: {...}, response: {...}, error: "..."}
    
    # –ö—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª
    performed_by = db.Column(db.String(50))  # system, admin_id, user_id
    performed_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)
    
    # –°–≤—è–∑—å
    partner = db.relationship('Partner', backref=db.backref('verification_logs', lazy=True))
üìÅ BLOCK_A_PARTNERS_DB/api_routes.py:

python
"""
API –î–õ–Ø –†–ê–ë–û–¢–´ –° –ü–ê–†–¢–ù–ï–†–ê–ú–ò
–°–æ–≥–ª–∞—Å–Ω–æ –¢–ó: API –î–õ–Ø –†–ê–ë–û–¢–´ –° –ü–ê–†–¢–ù–ï–†–ê–ú–ò
"""

from flask import Blueprint, request, jsonify, current_app
from sqlalchemy.exc import IntegrityError
from .models import db, Partner, PartnerVerificationLog
from .verification_service import VerificationService

partner_bp = Blueprint('partners', __name__, url_prefix='/api/v1/partners')
verification_service = VerificationService()

@partner_bp.route('/register', methods=['POST'])
def register_partner():
    """–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞"""
    try:
        data = request.get_json()
        
        # –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
        required_fields = ['company_name', 'legal_form', 'inn', 'contact_person', 'phone', 'email']
        for field in required_fields:
            if not data.get(field):
                return jsonify({
                    'success': False,
                    'error': f'–ù–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ: {field}'
                }), 400
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ò–ù–ù —á–µ—Ä–µ–∑ API –§–ù–°
        inn_verification = verification_service.verify_inn(data['inn'])
        if not inn_verification['success']:
            return jsonify({
                'success': False,
                'error': '–û—à–∏–±–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ò–ù–ù',
                'details': inn_verification.get('error')
            }), 400
        
        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
        from datetime import datetime
        import random
        date_str = datetime.now().strftime('%y%m%d')
        random_str = ''.join(random.choices('0123456789', k=4))
        partner_code = f"P-{date_str}-{random_str}"
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
        partner = Partner(
            partner_code=partner_code,
            company_name=data['company_name'],
            legal_form=data['legal_form'],
            inn=data['inn'],
            contact_person=data['contact_person'],
            phone=data['phone'],
            email=data['email'],
            verification_data=inn_verification.get('data'),
            verification_status='pending_documents' if inn_verification['success'] else 'rejected',
            status='registration_in_progress',
            registration_stage='inn_verified'
        )
        
        # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
        if data.get('ogrn'):
            partner.ogrn = data['ogrn']
        if data.get('legal_address'):
            partner.legal_address = data['legal_address']
        if data.get('website'):
            partner.website = data['website']
        
        db.session.add(partner)
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
        log = PartnerVerificationLog(
            partner_id=partner.id,
            partner_code=partner_code,
            action='inn_check',
            status='success' if inn_verification['success'] else 'failed',
            details=inn_verification,
            performed_by='system'
        )
        db.session.add(log)
        
        db.session.commit()
        
        return jsonify({
            'success': True,
            'partner': partner.to_dict(),
            'message': '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞—á–∞—Ç–∞ —É—Å–ø–µ—à–Ω–æ',
            'next_steps': [
                {
                    'step': 'upload_documents',
                    'description': '–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–æ–º–ø–∞–Ω–∏–∏',
                    'url': f"/partner/upload/{partner_code}"
                },
                {
                    'step': 'complete_profile',
                    'description': '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å —É—Å–ª—É–≥ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π',
                    'url': f"/partner/profile/{partner_code}"
                }
            ]
        }), 201
        
    except IntegrityError:
        db.session.rollback()
        return jsonify({
            'success': False,
            'error': '–ö–æ–º–ø–∞–Ω–∏—è —Å —Ç–∞–∫–∏–º –ò–ù–ù —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞'
        }), 409
    except Exception as e:
        db.session.rollback()
        current_app.logger.error(f"–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞: {e}")
        return jsonify({
            'success': False,
            'error': '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞'
        }), 500

@partner_bp.route('/search', methods=['POST'])
def search_partners():
    """–ü–æ–∏—Å–∫ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º"""
    try:
        criteria = request.get_json()
        
        # –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —Ç–æ–ª—å–∫–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
        query = Partner.query.filter(
            Partner.verification_status == 'verified',
            Partner.is_active == True
        )
        
        # –§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–≥–∏–æ–Ω—É
        if criteria.get('region'):
            query = query.filter(Partner.regions.contains([criteria['region']]))
        
        # –§–∏–ª—å—Ç—Ä –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è–º
        if criteria.get('specializations'):
            query = query.filter(
                Partner.specializations.overlap(criteria['specializations'])
            )
        
        # –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        if criteria.get('main_category'):
            query = query.filter(Partner.main_category == criteria['main_category'])
        
        # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
        query = query.order_by(Partner.rating.desc(), Partner.created_at.desc())
        
        # –ü–∞–≥–∏–Ω–∞—Ü–∏—è
        page = criteria.get('page', 1)
        per_page = min(criteria.get('per_page', 10), 50)
        partners = query.paginate(page=page, per_page=per_page, error_out=False)
        
        return jsonify({
            'success': True,
            'partners': [p.to_dict() for p in partners.items],
            'pagination': {
                'page': partners.page,
                'per_page': partners.per_page,
                'total': partners.total,
                'pages': partners.pages
            }
        })
        
    except Exception as e:
        current_app.logger.error(f"–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤: {e}")
        return jsonify({
            'success': False,
            'error': '–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤'
        }), 500

@partner_bp.route('/<partner_code>', methods=['GET'])
def get_partner(partner_code):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞—Ä—Ç–Ω–µ—Ä–µ"""
    partner = Partner.query.filter_by(partner_code=partner_code).first()
    
    if not partner:
        return jsonify({'success': False, 'error': '–ü–∞—Ä—Ç–Ω–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω'}), 404
    
    return jsonify({'success': True, 'partner': partner.to_dict()})

@partner_bp.route('/<partner_code>/profile', methods=['PUT'])
def update_partner_profile(partner_code):
    """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞"""
    try:
        partner = Partner.query.filter_by(partner_code=partner_code).first()
        if not partner:
            return jsonify({'success': False, 'error': '–ü–∞—Ä—Ç–Ω–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω'}), 404
        
        data = request.get_json()
        
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –ø—Ä–æ—Ñ–∏–ª—è
        update_fields = ['main_category', 'specializations', 'services', 'regions', 'cities']
        for field in update_fields:
            if field in data:
                setattr(partner, field, data[field])
        
        partner.updated_at = datetime.utcnow()
        db.session.commit()
        
        return jsonify({
            'success': True,
            'message': '–ü—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω',
            'partner': partner.to_dict()
        })
        
    except Exception as e:
        db.session.rollback()
        current_app.logger.error(f"–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è: {e}")
        return jsonify({'success': False, 'error': '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è'}), 500
üìÅ BLOCK_A_PARTNERS_DB/verification_service.py:

python
"""
–°–ï–†–í–ò–° –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò –ü–ê–†–¢–ù–ï–†–û–í
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ò–ù–ù —á–µ—Ä–µ–∑ API –§–ù–° –∏ –¥—Ä—É–≥–∏–µ —Ä–µ–µ—Å—Ç—Ä—ã
"""

import requests
import logging
from datetime import datetime
from typing import Dict, Any, Optional

logger = logging.getLogger(__name__)

class VerificationService:
    """–°–µ—Ä–≤–∏—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö"""
    
    def __init__(self):
        self.fns_api_url = "https://api-fns.ru/api/egr"
        self.dadata_api_url = "https://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party"
        
    def verify_inn(self, inn: str) -> Dict[str, Any]:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –ò–ù–ù —á–µ—Ä–µ–∑ API –§–ù–°"""
        try:
            # –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞
            if not self._validate_inn_format(inn):
                return {'success': False, 'error': '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ò–ù–ù'}
            
            # –ó–∞–ø—Ä–æ—Å –∫ API –§–ù–°
            response = self._call_fns_api(inn)
            
            if response.get('status') == 'success':
                data = response.get('data', {})
                
                return {
                    'success': True,
                    'data': {
                        'inn': inn,
                        'company_name': data.get('name'),
                        'ogrn': data.get('ogrn'),
                        'legal_address': data.get('address'),
                        'registration_date': data.get('reg_date'),
                        'status': data.get('status'),  # ACTIVE, LIQUIDATED, etc.
                        'legal_form': data.get('legal_form'),
                        'verified_at': datetime.utcnow().isoformat()
                    },
                    'message': '–ò–ù–ù —É—Å–ø–µ—à–Ω–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω'
                }
            else:
                return {
                    'success': False,
                    'error': '–ö–æ–º–ø–∞–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ —Ä–µ–µ—Å—Ç—Ä–µ –§–ù–°',
                    'details': response
                }
                
        except Exception as e:
            logger.error(f"–û—à–∏–±–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ò–ù–ù {inn}: {e}")
            return {
                'success': False,
                'error': f'–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: {str(e)}'
            }
    
    def _validate_inn_format(self, inn: str) -> bool:
        """–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –ò–ù–ù"""
        if not inn or not inn.isdigit():
            return False
        
        length = len(inn)
        if length not in [10, 12]:  # 10 –¥–ª—è —é—Ä–ª–∏—Ü, 12 –¥–ª—è –ò–ü
            return False
        
        return True
    
    def _call_fns_api(self, inn: str) -> Dict[str, Any]:
        """–í—ã–∑–æ–≤ API –§–ù–°"""
        # –ó–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ API
        # –ü–æ–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        return {
            'status': 'success',
            'data': {
                'name': f'–ö–æ–º–ø–∞–Ω–∏—è –ò–ù–ù {inn}',
                'ogrn': '1234567890123',
                'address': '–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1',
                'reg_date': '2020-01-15',
                'status': 'ACTIVE',
                'legal_form': '–û–û–û'
            }
        }
    
    def verify_documents(self, documents: list) -> Dict[str, Any]:
        """–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤"""
        verified_docs = []
        
        for doc in documents:
            doc_type = doc.get('type')
            doc_url = doc.get('url')
            
            # –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
            verified_docs.append({
                'type': doc_type,
                'url': doc_url,
                'verified': True,  # –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å
                'verified_at': datetime.utcnow().isoformat()
            })
        
        return {
            'success': True,
            'documents': verified_docs,
            'message': f'–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ {len(verified_docs)} –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤'
        }
üìÅ BLOCK_A_PARTNERS_DB/schema.sql:

sql
-- SQL –°–•–ï–ú–ê –ë–ê–ó–´ –î–ê–ù–ù–´–• –î–õ–Ø –ü–ê–†–¢–ù–ï–†–û–í
-- –ë–ª–æ–∫ A: –ë–∞–∑–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ + –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

-- –¢–∞–±–ª–∏—Ü–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
CREATE TABLE IF NOT EXISTS partners (
    id SERIAL PRIMARY KEY,
    partner_code VARCHAR(50) UNIQUE NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP NOT NULL DEFAULT NOW(),
    
    -- –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
    company_name VARCHAR(200) NOT NULL,
    legal_form VARCHAR(20) NOT NULL,
    inn VARCHAR(12) UNIQUE NOT NULL,
    ogrn VARCHAR(15),
    kpp VARCHAR(9),
    legal_address TEXT,
    actual_address TEXT,
    registration_date DATE,
    
    -- –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    contact_person VARCHAR(100) NOT NULL,
    phone VARCHAR(20) NOT NULL,
    email VARCHAR(120) NOT NULL,
    website VARCHAR(200),
    telegram VARCHAR(50),
    whatsapp VARCHAR(20),
    
    -- –ü—Ä–æ—Ñ–∏–ª—å —É—Å–ª—É–≥
    main_category VARCHAR(50) NOT NULL,
    specializations JSONB DEFAULT '[]',
    services JSONB DEFAULT '[]',
    
    -- –ì–µ–æ–≥—Ä–∞—Ñ–∏—è
    regions JSONB DEFAULT '[]',
    cities JSONB DEFAULT '[]',
    radius_km INTEGER DEFAULT 50,
    
    -- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
    verification_status VARCHAR(20) NOT NULL DEFAULT 'pending',
    verification_date TIMESTAMP,
    verified_by VARCHAR(50),
    documents JSONB DEFAULT '[]',
    rejection_reason TEXT,
    
    -- –°—Ç–∞—Ç—É—Å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    is_active BOOLEAN NOT NULL DEFAULT TRUE,
    subscription_type VARCHAR(20) NOT NULL DEFAULT 'free',
    subscription_expires TIMESTAMP,
    max_active_leads INTEGER DEFAULT 3,
    
    -- –†–µ–π—Ç–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    rating FLOAT DEFAULT 0.0,
    completed_projects INTEGER DEFAULT 0,
    response_rate FLOAT DEFAULT 0.0,
    
    -- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è
    settings JSONB DEFAULT '{}',
    
    -- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
    CONSTRAINT check_rating_range CHECK (rating >= 0 AND rating <= 5),
    CONSTRAINT check_response_rate CHECK (response_rate >= 0 AND response_rate <= 100)
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã partners
CREATE INDEX idx_partners_verification_status ON partners(verification_status);
CREATE INDEX idx_partners_is_active ON partners(is_active);
CREATE INDEX idx_partners_regions ON partners USING GIN(regions);
CREATE INDEX idx_partners_specializations ON partners USING GIN(specializations);
CREATE INDEX idx_partners_rating ON partners(rating DESC);
CREATE INDEX idx_partners_created_at ON partners(created_at DESC);

-- –¢–∞–±–ª–∏—Ü–∞ –ª–æ–≥–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
CREATE TABLE IF NOT EXISTS partner_verification_logs (
    id SERIAL PRIMARY KEY,
    partner_id INTEGER NOT NULL REFERENCES partners(id) ON DELETE CASCADE,
    partner_code VARCHAR(50) NOT NULL,
    
    -- –î–µ—Ç–∞–ª–∏ –¥–µ–π—Å—Ç–≤–∏—è
    action VARCHAR(50) NOT NULL,
    status VARCHAR(20) NOT NULL,
    details JSONB,
    
    -- –ö—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª
    performed_by VARCHAR(50),
    performed_at TIMESTAMP NOT NULL DEFAULT NOW(),
    
    -- –ò–Ω–¥–µ–∫—Å—ã
    INDEX idx_verification_logs_partner_id (partner_id),
    INDEX idx_verification_logs_performed_at (performed_at DESC)
);

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è updated_at
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ language 'plpgsql';

-- –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è updated_at
CREATE TRIGGER update_partners_updated_at BEFORE UPDATE
ON partners FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

-- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º
CREATE OR REPLACE VIEW verified_partners AS
SELECT 
    p.partner_code,
    p.company_name,
    p.legal_form,
    p.inn,
    p.contact_person,
    p.phone,
    p.email,
    p.main_category,
    p.specializations,
    p.services,
    p.regions,
    p.cities,
    p.rating,
    p.completed_projects,
    p.response_rate,
    p.subscription_type
FROM partners p
WHERE p.verification_status = 'verified' 
  AND p.is_active = TRUE
  AND (p.subscription_expires IS NULL OR p.subscription_expires > NOW());

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
CREATE OR REPLACE VIEW partners_statistics AS
SELECT 
    COUNT(*) as total_partners,
    COUNT(CASE WHEN verification_status = 'verified' THEN 1 END) as verified_partners,
    COUNT(CASE WHEN verification_status = 'pending' THEN 1 END) as pending_partners,
    COUNT(CASE WHEN is_active = TRUE THEN 1 END) as active_partners,
    AVG(rating) as average_rating,
    SUM(completed_projects) as total_projects
FROM partners;

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ç–∞–±–ª–∏—Ü–∞–º
COMMENT ON TABLE partners IS '–¢–∞–±–ª–∏—Ü–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ (—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π)';
COMMENT ON COLUMN partners.partner_code IS '–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º–µ';
COMMENT ON COLUMN partners.verification_status IS '–°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: pending, verified, rejected';
COMMENT ON COLUMN partners.subscription_type IS '–¢–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏: free, basic, premium';

COMMENT ON TABLE partner_verification_logs IS '–õ–æ–≥–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤';
COMMENT ON COLUMN partner_verification_logs.action IS '–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è: inn_check, document_upload, manual_review';
COMMENT ON COLUMN partner_verification_logs.status IS '–†–µ–∑—É–ª—å—Ç–∞—Ç: success, failed, pending';
üìÅ BLOCK_A_PARTNERS_DB/partner_manager.py:

python
"""
–ú–ï–ù–ï–î–ñ–ï–† –î–õ–Ø –†–ê–ë–û–¢–´ –° –ü–ê–†–¢–ù–ï–†–ê–ú–ò
CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
"""

from datetime import datetime, timedelta
from typing import Dict, Any, List, Optional
from .models import db, Partner, PartnerVerificationLog

class PartnerManager:
    """–ú–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏"""
    
    @staticmethod
    def create_partner(data: Dict[str, Any]) -> Dict[str, Any]:
        """–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞"""
        try:
            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
            from datetime import datetime
            import random
            
            date_str = datetime.now().strftime('%y%m%d')
            random_num = random.randint(1000, 9999)
            partner_code = f"P-{date_str}-{random_num}"
            
            partner = Partner(
                partner_code=partner_code,
                company_name=data['company_name'],
                legal_form=data.get('legal_form', '–û–û–û'),
                inn=data['inn'],
                contact_person=data['contact_person'],
                phone=data['phone'],
                email=data['email'],
                verification_status='pending',
                is_active=False
            )
            
            db.session.add(partner)
            db.session.commit()
            
            return {
                'success': True,
                'partner': partner.to_dict(),
                'message': '–ü–∞—Ä—Ç–Ω–µ—Ä —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ'
            }
            
        except Exception as e:
            db.session.rollback()
            return {
                'success': False,
                'error': f'–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞: {str(e)}'
            }
    
    @staticmethod
    def update_partner(partner_code: str, data: Dict[str, Any]) -> Dict[str, Any]:
        """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–∞"""
        try:
            partner = Partner.query.filter_by(partner_code=partner_code).first()
            if not partner:
                return {'success': False, 'error': '–ü–∞—Ä—Ç–Ω–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω'}
            
            # –ü–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å
            updatable_fields = [
                'company_name', 'contact_person', 'phone', 'email', 'website',
                'main_category', 'specializations', 'services', 'regions', 'cities',
                'radius_km', 'settings'
            ]
            
            for field in updatable_fields:
                if field in data:
                    setattr(partner, field, data[field])
            
            partner.updated_at = datetime.utcnow()
            db.session.commit()
            
            return {
                'success': True,
                'partner': partner.to_dict(),
                'message': '–î–∞–Ω–Ω—ã–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã'
            }
            
        except Exception as e:
            db.session.rollback()
            return {
                'success': False,
                'error': f'–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞: {str(e)}'
            }
    
    @staticmethod
    def verify_partner(partner_code: str, verified_by: str = 'system') -> Dict[str, Any]:
        """–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞"""
        try:
            partner = Partner.query.filter_by(partner_code=partner_code).first()
            if not partner:
                return {'success': False, 'error': '–ü–∞—Ä—Ç–Ω–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω'}
            
            partner.verification_status = 'verified'
            partner.verification_date = datetime.utcnow()
            partner.verified_by = verified_by
            partner.is_active = True
            
            # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
            log = PartnerVerificationLog(
                partner_id=partner.id,
                partner_code=partner_code,
                action='manual_verification',
                status='success',
                details={'verified_by': verified_by},
                performed_by=verified_by
            )
            db.session.add(log)
            
            db.session.commit()
            
            return {
                'success': True,
                'partner': partner.to_dict(),
                'message': '–ü–∞—Ä—Ç–Ω–µ—Ä —É—Å–ø–µ—à–Ω–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω'
            }
            
        except Exception as e:
            db.session.rollback()
            return {
                'success': False,
                'error': f'–û—à–∏–±–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞: {str(e)}'
            }
    
    @staticmethod
    def search_partners(criteria: Dict[str, Any], page: int = 1, per_page: int = 10) -> Dict[str, Any]:
        """–ü–æ–∏—Å–∫ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º"""
        try:
            query = Partner.query.filter(
                Partner.verification_status == 'verified',
                Partner.is_active == True
            )
            
            # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
            if criteria.get('region'):
                query = query.filter(Partner.regions.contains([criteria['region']]))
            
            if criteria.get('specializations'):
                query = query.filter(
                    Partner.specializations.overlap(criteria['specializations'])
                )
            
            if criteria.get('main_category'):
                query = query.filter(Partner.main_category == criteria['main_category'])
            
            if criteria.get('min_rating'):
                query = query.filter(Partner.rating >= criteria['min_rating'])
            
            # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
            sort_by = criteria.get('sort_by', 'rating')
            sort_order = criteria.get('sort_order', 'desc')
            
            if sort_by == 'rating':
                if sort_order == 'desc':
                    query = query.order_by(Partner.rating.desc())
                else:
                    query = query.order_by(Partner.rating.asc())
            elif sort_by == 'response_rate':
                if sort_order == 'desc':
                    query = query.order_by(Partner.response_rate.desc())
                else:
                    query = query.order_by(Partner.response_rate.asc())
            else:
                query = query.order_by(Partner.created_at.desc())
            
            # –ü–∞–≥–∏–Ω–∞—Ü–∏—è
            pagination = query.paginate(page=page, per_page=per_page, error_out=False)
            
            return {
                'success': True,
                'partners': [p.to_dict() for p in pagination.items],
                'pagination': {
                    'page': pagination.page,
                    'per_page': pagination.per_page,
                    'total': pagination.total,
                    'pages': pagination.pages
                }
            }
            
        except Exception as e:
            return {
                'success': False,
                'error': f'–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤: {str(e)}'
            }
    
    @staticmethod
    def get_partner_stats() -> Dict[str, Any]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º"""
        try:
            total = Partner.query.count()
            verified = Partner.query.filter_by(verification_status='verified').count()
            active = Partner.query.filter_by(is_active=True).count()
            pending = Partner.query.filter_by(verification_status='pending').count()
            
            return {
                'success': True,
                'stats': {
                    'total_partners': total,
                    'verified_partners': verified,
                    'active_partners': active,
                    'pending_verification': pending,
                    'verified_percentage': round((verified / total * 100) if total > 0 else 0, 2)
                }
            }
            
        except Exception as e:
            return {
                'success': False,
                'error': f'–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: {str(e)}'
            }
üìÅ BLOCK_A_PARTNERS_DB/config.py:

python
"""
–ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ë–õ–û–ö–ê A
"""

import os
from typing import Dict, Any

class BlockAConfig:
    """–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –±–ª–æ–∫–∞ A (–ë–∞–∑–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤)"""
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    DATABASE_CONFIG = {
        'pool_size': 10,
        'max_overflow': 20,
        'pool_timeout': 30,
        'pool_recycle': 3600,
        'echo': False
    }
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
    VERIFICATION_CONFIG = {
        'inn_check_timeout': 10,  # —Å–µ–∫—É–Ω–¥
        'max_retries': 3,
        'cache_ttl': 3600,  # –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ 1 —á–∞—Å
        'auto_verify_after_days': 7  # –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π
    }
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞
    SEARCH_CONFIG = {
        'default_per_page': 10,
        'max_per_page': 50,
        'default_sort': 'rating_desc',
        'search_timeout': 5
    }
    
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ (—Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó)
    PARTNER_CATEGORIES = [
        '–ø–æ–¥—Ä—è–¥—á–∏–∫',
        '–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å', 
        '–ø—Ä–æ–¥–∞–≤–µ—Ü',
        '–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å'
    ]
    
    # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (—Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó)
    SPECIALIZATIONS = [
        '–∫–∞—Ä–∫–∞—Å–Ω—ã–µ –¥–æ–º–∞',
        '–∫–∏—Ä–ø–∏—á–Ω—ã–µ –¥–æ–º–∞',
        '–æ—Ç–¥–µ–ª–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã',
        '–∫—Ä–æ–≤–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã',
        '—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—ã',
        '—ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂',
        '—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞',
        '–æ–∫–Ω–∞ –∏ –¥–≤–µ—Ä–∏',
        '–æ—Ç–æ–ø–ª–µ–Ω–∏–µ –∏ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—è',
        '–ª–∞–Ω–¥—à–∞—Ñ—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω'
    ]
    
    # –†–µ–≥–∏–æ–Ω—ã —Ä–∞–±–æ—Ç—ã
    REGIONS = [
        '–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
        '–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
        '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π',
        '–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
        '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
        '–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω',
        '–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
        '–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
        '–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
        '–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å'
    ]
    
    @classmethod
    def get_database_url(cls) -> str:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è"""
        return os.getenv('DATABASE_URL', 'postgresql://user:password@localhost:5432/haus_price_db')
    
    @classmethod
    def get_fns_api_key(cls) -> str:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–∞ API –§–ù–°"""
        return os.getenv('FNS_API_KEY', '')
    
    @classmethod
    def to_dict(cls) -> Dict[str, Any]:
        """–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Å–ª–æ–≤–∞—Ä—å"""
        return {
            'database': cls.DATABASE_CONFIG,
            'verification': cls.VERIFICATION_CONFIG,
            'search': cls.SEARCH_CONFIG,
            'categories': cls.PARTNER_CATEGORIES,
            'specializations': cls.SPECIALIZATIONS,
            'regions': cls.REGIONS
        }
üìÅ BLOCK_A_PARTNERS_DB/seed_data.py:

python
"""
–°–ï–ï–î-–î–ê–ù–ù–´–ï –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –ë–õ–û–ö–ê A
–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
"""

import random
from datetime import datetime, timedelta
from .models import db, Partner

def seed_test_partners(count: int = 20):
    """–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤"""
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    companies = [
        "–û–û–û '–°—Ç—Ä–æ–π–î–æ–º'", "–ò–ü '–ú–∞—Å—Ç–µ—Ä–û—Ç–¥–µ–ª–∫–∞'", "–û–û–û '–§—É–Ω–¥–∞–º–µ–Ω—Ç–ü—Ä–æ'", 
        "–ê–û '–ö—Ä–æ–≤–µ–ª—å–Ω—ã–µ–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏'", "–û–û–û '–ö–∞—Ä–∫–∞—Å–Ω—ã–µ–î–æ–º–∞'", "–ò–ü '–≠–ª–µ–∫—Ç—Ä–æ–ú–∞—Å—Ç–µ—Ä'",
        "–û–û–û '–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–ü—Ä–æ'", "–ò–ü '–û–∫–Ω–∞–ú–∏—Ä'", "–û–û–û '–¢–µ–ø–ª–æ–î–æ–º'", "–ê–û '–õ–∞–Ω–¥—à–∞—Ñ—Ç–î–∏–∑–∞–π–Ω'"
    ]
    
    categories = ['–ø–æ–¥—Ä—è–¥—á–∏–∫', '–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å', '–ø—Ä–æ–¥–∞–≤–µ—Ü', '–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å']
    specializations_list = [
        ['–∫–∞—Ä–∫–∞—Å–Ω—ã–µ –¥–æ–º–∞', '—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—ã'],
        ['–æ—Ç–¥–µ–ª–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã', '–æ–∫–Ω–∞ –∏ –¥–≤–µ—Ä–∏'],
        ['–∫—Ä–æ–≤–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã'],
        ['—ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂'],
        ['—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞'],
        ['–æ—Ç–æ–ø–ª–µ–Ω–∏–µ –∏ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—è'],
        ['–ª–∞–Ω–¥—à–∞—Ñ—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω']
    ]
    
    regions_list = [
        ['–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å', '–ú–æ—Å–∫–≤–∞'],
        ['–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å', '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'],
        ['–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π', '–°–æ—á–∏', '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä'],
        ['–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å', '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥'],
        ['–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω', '–ö–∞–∑–∞–Ω—å']
    ]
    
    created = 0
    
    for i in range(count):
        company = random.choice(companies)
        inn = f"{random.randint(1000000000, 9999999999)}"
        
        partner = Partner(
            partner_code=f"P-TEST-{i+1:04d}",
            company_name=f"{company} –¢–µ—Å—Ç–æ–≤–∞—è",
            legal_form=random.choice(['–û–û–û', '–ò–ü', '–ê–û']),
            inn=inn,
            ogrn=f"{random.randint(1000000000000, 9999999999999)}",
            contact_person=f"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á {i+1}",
            phone=f"+7{random.randint(9000000000, 9999999999)}",
            email=f"test{i+1}@example.com",
            website=f"https://example{i+1}.com",
            
            main_category=random.choice(categories),
            specializations=random.choice(specializations_list),
            
            services=[
                {
                    "service_name": "–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∫–∞—Ä–∫–∞—Å–Ω–æ–≥–æ –¥–æ–º–∞",
                    "description": "–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞",
                    "price_range": {"min": 1500000, "max": 3000000, "currency": "RUB"},
                    "unit": "–ø—Ä–æ–µ–∫—Ç"
                }
            ],
            
            regions=random.choice(regions_list)[:1],
            cities=random.choice(regions_list)[1:],
            radius_km=random.randint(50, 300),
            
            verification_status='verified',
            verification_date=datetime.utcnow() - timedelta(days=random.randint(1, 30)),
            verified_by='system',
            
            is_active=True,
            subscription_type=random.choice(['free', 'basic', 'premium']),
            subscription_expires=datetime.utcnow() + timedelta(days=random.randint(30, 365)),
            
            rating=round(random.uniform(3.5, 5.0), 1),
            completed_projects=random.randint(5, 100),
            response_rate=round(random.uniform(70, 100), 1)
        )
        
        db.session.add(partner)
        created += 1
    
    try:
        db.session.commit()
        print(f"‚úÖ –°–æ–∑–¥–∞–Ω–æ {created} —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤")
        return {'success': True, 'created': created}
    except Exception as e:
        db.session.rollback()
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö: {e}")
        return {'success': False, 'error': str(e)}

def clear_test_data():
    """–û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö"""
    try:
        deleted = Partner.query.filter(Partner.partner_code.like('P-TEST-%')).delete()
        db.session.commit()
        print(f"‚úÖ –£–¥–∞–ª–µ–Ω–æ {deleted} —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π")
        return {'success': True, 'deleted': deleted}
    except Exception as e:
        db.session.rollback()
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö: {e}")
        return {'success': False, 'error': str(e)}

if __name__ == "__main__":
    # –î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
    import sys
    from flask import Flask
    
    app = Flask(__name__)
    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///test.db'
    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False
    
    db.init_app(app)
    
    with app.app_context():
        db.create_all()
        
        if len(sys.argv) > 1 and sys.argv[1] == 'clear':
            clear_test_data()
        else:
            seed_test_partners(10)
üìÅ BLOCK_A_PARTNERS_DB/README.md:

markdown
# üóÉÔ∏è –ë–õ–û–ö A: –ë–ê–ó–ê –ü–ê–†–¢–ù–ï–†–û–í + –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø

## üéØ –¶–ï–õ–¨ –ë–õ–û–ö–ê
–°–æ–∑–¥–∞—Ç—å —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã - –±–∞–∑—É –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ —Å —É—Å–ª—É–≥–∞–º–∏ –∏ —Ü–µ–Ω–∞–º–∏.

## üìä –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–•
–°–æ–≥–ª–∞—Å–Ω–æ –¢–ó, –ø–∞—Ä—Ç–Ω–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç:

### –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ:
- `company_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- `legal_form` - –û–û–û, –ò–ü, –ê–û
- `inn` (–ò–ù–ù) - –∫–ª—é—á–µ–≤–æ–µ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `ogrn` - –û–ì–†–ù
- `legal_address` - —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
- `actual_address` - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å

### –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- `phone` - —Ç–µ–ª–µ—Ñ–æ–Ω
- `email` - email
- `website` - —Å–∞–π—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `contact_person` - –§–ò–û –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è

### –ü—Ä–æ—Ñ–∏–ª—å —É—Å–ª—É–≥:
- `main_category` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `specializations` - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- `services` - –º–∞—Å—Å–∏–≤ —É—Å–ª—É–≥ —Å —Ü–µ–Ω–∞–º–∏

### –ì–µ–æ–≥—Ä–∞—Ñ–∏—è:
- `regions` - —Ä–µ–≥–∏–æ–Ω—ã —Ä–∞–±–æ—Ç—ã
- `cities` - –≥–æ—Ä–æ–¥–∞ —Ä–∞–±–æ—Ç—ã
- `radius_km` - —Ä–∞–¥–∏—É—Å —Ä–∞–±–æ—Ç—ã

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:
- `verification_status` - —Å—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `verification_date` - –¥–∞—Ç–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `documents` - –¥–æ–∫—É–º–µ–Ω—Ç—ã

## üîê –ü–†–û–¶–ï–°–° –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò
–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï ‚Üí –ü–†–û–í–ï–†–ö–ê ‚Üí –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø ‚Üí –ê–ö–¢–ò–í–ê–¶–ò–Ø

–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø:

–ü–∞—Ä—Ç–Ω–µ—Ä –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –≤ –±–æ—Ç–µ/–õ–ö

–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –Ω–∞–∑–≤–∞–Ω–∏–µ, –ò–ù–ù, –∫–æ–Ω—Ç–∞–∫—Ç—ã

–ü–†–û–í–ï–†–ö–ê –ß–ï–†–ï–ó API –§–ù–°:

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ò–ù–ù –≤ –ï–ì–†–Æ–õ/–ï–ì–†–ò–ü

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞

–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–π—Å—Ç–≤—É—é—â–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

–í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø –î–û–ö–£–ú–ï–ù–¢–û–í:

–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫–∞–Ω–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π

–ê–ö–¢–ò–í–ê–¶–ò–Ø:

–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞

–î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –∑–∞–∫–∞–∑—á–∏–∫–æ–≤

text

## üìÅ –§–ê–ô–õ–´ –ë–õ–û–ö–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **models.py** - SQLAlchemy –º–æ–¥–µ–ª–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –∏ –ª–æ–≥–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. **api_routes.py** - Flask —Ä–æ—É—Ç—ã –¥–ª—è API –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
3. **verification_service.py** - —Å–µ—Ä–≤–∏—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API –§–ù–°
4. **partner_manager.py** - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏
5. **schema.sql** - SQL —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü
6. **config.py** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–ª–æ–∫–∞
7. **seed_data.py** - —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
cd BLOCK_A_PARTNERS_DB
pip install -r ../requirements.txt
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ë–î
createdb haus_price_db

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã
psql haus_price_db < schema.sql
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
4. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
python
python seed_data.py
5. –ó–∞–ø—É—Å–∫ API:
python
# –°–æ–∑–¥–∞–π—Ç–µ app.py —Å:
from flask import Flask
from .models import db
from .api_routes import partner_bp

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'postgresql://...'
app.register_blueprint(partner_bp)

db.init_app(app)

if __name__ == '__main__':
    app.run(debug=True)
üìä API –≠–ù–î–ü–û–ò–ù–¢–´
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞:
http
POST /api/v1/partners/register
Content-Type: application/json

{
  "company_name": "–û–û–û '–°—Ç—Ä–æ–π–î–æ–º'",
  "legal_form": "–û–û–û",
  "inn": "7712345678",
  "contact_person": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "phone": "+79991234567",
  "email": "info@stroydom.ru"
}
–ü–æ–∏—Å–∫ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤:
http
POST /api/v1/partners/search
Content-Type: application/json

{
  "region": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
  "specializations": ["–∫–∞—Ä–∫–∞—Å–Ω—ã–µ –¥–æ–º–∞"],
  "page": 1,
  "per_page": 10
}
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞:
http
GET /api/v1/partners/{partner_code}
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è:
http
PUT /api/v1/partners/{partner_code}/profile
Content-Type: application/json

{
  "main_category": "–ø–æ–¥—Ä—è–¥—á–∏–∫",
  "specializations": ["–∫–∞—Ä–∫–∞—Å–Ω—ã–µ –¥–æ–º–∞", "–æ—Ç–¥–µ–ª–∫–∞"],
  "regions": ["–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"]
}
üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
bash
pytest tests/test_block_a/
–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (test_models.py)

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (test_verification.py)

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API (test_api_routes.py)

üîó –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –î–†–£–ì–ò–ú–ò –ë–õ–û–ö–ê–ú–ò
–° –±–ª–æ–∫–æ–º B (–ë–æ—Ç-–ø—Ä–æ–≤–æ–¥–Ω–∏–∫):
–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

–ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –¥–ª—è –ø–æ–∫–∞–∑–∞ –∑–∞–∫–∞–∑—á–∏–∫–∞–º

–° –±–ª–æ–∫–æ–º C (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏):
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –§–ù–° –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tilda –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞

–° –±–ª–æ–∫–æ–º D (–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è):
–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º

üìà –°–¢–ê–¢–£–° –†–ê–ó–†–ê–ë–û–¢–ö–ò
–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

SQL —Å—Ö–µ–º—ã

API —Ä–æ—É—Ç—ã

–°–µ—Ä–≤–∏—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –§–ù–° (—Ä–µ–∞–ª—å–Ω–∞—è)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

üÜò –ü–û–î–î–ï–†–ñ–ö–ê
–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–º–æ—â–∏:

–û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –≤ –∫–æ–¥–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç—ã

–°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–ë–ª–æ–∫ A —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–æ–º –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã. –ë–µ–∑ —Ä–∞–±–æ—Ç–∞—é—â–µ–π –±–∞–∑—ã –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞ –¥—Ä—É–≥–∏—Ö –±–ª–æ–∫–æ–≤.
