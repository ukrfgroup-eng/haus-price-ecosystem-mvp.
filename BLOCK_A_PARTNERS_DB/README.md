# üóÉÔ∏è –ë–õ–û–ö A: –ë–ê–ó–ê –ü–ê–†–¢–ù–ï–†–û–í + –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø

## üéØ –¶–ï–õ–¨ –ë–õ–û–ö–ê
–°–æ–∑–¥–∞—Ç—å —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã - –±–∞–∑—É –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ —Å —É—Å–ª—É–≥–∞–º–∏ –∏ —Ü–µ–Ω–∞–º–∏.

## üìä –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–•
–°–æ–≥–ª–∞—Å–Ω–æ –¢–ó, –ø–∞—Ä—Ç–Ω–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç:

### –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ:
- `company_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- `legal_form` - –û–û–û, –ò–ü, –ê–û
- `inn` (–ò–ù–ù) - –∫–ª—é—á–µ–≤–æ–µ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `ogrn` - –û–ì–†–ù
- `legal_address` - —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
- `actual_address` - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å

### –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- `phone` - —Ç–µ–ª–µ—Ñ–æ–Ω
- `email` - email
- `website` - —Å–∞–π—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `contact_person` - –§–ò–û –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è

### –ü—Ä–æ—Ñ–∏–ª—å —É—Å–ª—É–≥:
- `main_category` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `specializations` - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- `services` - –º–∞—Å—Å–∏–≤ —É—Å–ª—É–≥ —Å —Ü–µ–Ω–∞–º–∏

### –ì–µ–æ–≥—Ä–∞—Ñ–∏—è:
- `regions` - —Ä–µ–≥–∏–æ–Ω—ã —Ä–∞–±–æ—Ç—ã
- `cities` - –≥–æ—Ä–æ–¥–∞ —Ä–∞–±–æ—Ç—ã
- `radius_km` - —Ä–∞–¥–∏—É—Å —Ä–∞–±–æ—Ç—ã

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:
- `verification_status` - —Å—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `verification_date` - –¥–∞—Ç–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `documents` - –¥–æ–∫—É–º–µ–Ω—Ç—ã

## üîê –ü–†–û–¶–ï–°–° –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò
–í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï ‚Üí –ü–†–û–í–ï–†–ö–ê ‚Üí –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø ‚Üí –ê–ö–¢–ò–í–ê–¶–ò–Ø

–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø:

–ü–∞—Ä—Ç–Ω–µ—Ä –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –≤ –±–æ—Ç–µ/–õ–ö

–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –Ω–∞–∑–≤–∞–Ω–∏–µ, –ò–ù–ù, –∫–æ–Ω—Ç–∞–∫—Ç—ã

–ü–†–û–í–ï–†–ö–ê –ß–ï–†–ï–ó API –§–ù–°:

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ò–ù–ù –≤ –ï–ì–†–Æ–õ/–ï–ì–†–ò–ü

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞

–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–π—Å—Ç–≤—É—é—â–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

–í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø –î–û–ö–£–ú–ï–ù–¢–û–í:

–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫–∞–Ω–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π

–ê–ö–¢–ò–í–ê–¶–ò–Ø:

–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞

–î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –∑–∞–∫–∞–∑—á–∏–∫–æ–≤

text

## üìÅ –§–ê–ô–õ–´ –ë–õ–û–ö–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **models.py** - SQLAlchemy –º–æ–¥–µ–ª–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –∏ –ª–æ–≥–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. **api_routes.py** - Flask —Ä–æ—É—Ç—ã –¥–ª—è API –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
3. **verification_service.py** - —Å–µ—Ä–≤–∏—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API –§–ù–°
4. **partner_manager.py** - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏
5. **schema.sql** - SQL —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü
6. **config.py** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–ª–æ–∫–∞
7. **seed_data.py** - —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
cd BLOCK_A_PARTNERS_DB
pip install -r ../requirements.txt
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ë–î
createdb haus_price_db

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã
psql haus_price_db < schema.sql
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
4. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
python
python seed_data.py
5. –ó–∞–ø—É—Å–∫ API:
python
# –°–æ–∑–¥–∞–π—Ç–µ app.py —Å:
from flask import Flask
from .models import db
from .api_routes import partner_bp

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'postgresql://...'
app.register_blueprint(partner_bp)

db.init_app(app)

if __name__ == '__main__':
    app.run(debug=True)
üìä API –≠–ù–î–ü–û–ò–ù–¢–´
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞:
http
POST /api/v1/partners/register
Content-Type: application/json

{
  "company_name": "–û–û–û '–°—Ç—Ä–æ–π–î–æ–º'",
  "legal_form": "–û–û–û",
  "inn": "7712345678",
  "contact_person": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "phone": "+79991234567",
  "email": "info@stroydom.ru"
}
–ü–æ–∏—Å–∫ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤:
http
POST /api/v1/partners/search
Content-Type: application/json

{
  "region": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
  "specializations": ["–∫–∞—Ä–∫–∞—Å–Ω—ã–µ –¥–æ–º–∞"],
  "page": 1,
  "per_page": 10
}
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞:
http
GET /api/v1/partners/{partner_code}
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è:
http
PUT /api/v1/partners/{partner_code}/profile
Content-Type: application/json

{
  "main_category": "–ø–æ–¥—Ä—è–¥—á–∏–∫",
  "specializations": ["–∫–∞—Ä–∫–∞—Å–Ω—ã–µ –¥–æ–º–∞", "–æ—Ç–¥–µ–ª–∫–∞"],
  "regions": ["–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"]
}
üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
bash
pytest tests/test_block_a/
–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã:
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (test_models.py)

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (test_verification.py)

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API (test_api_routes.py)

üîó –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –î–†–£–ì–ò–ú–ò –ë–õ–û–ö–ê–ú–ò
–° –±–ª–æ–∫–æ–º B (–ë–æ—Ç-–ø—Ä–æ–≤–æ–¥–Ω–∏–∫):
–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

–ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –¥–ª—è –ø–æ–∫–∞–∑–∞ –∑–∞–∫–∞–∑—á–∏–∫–∞–º

–° –±–ª–æ–∫–æ–º C (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏):
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –§–ù–° –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tilda –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞

–° –±–ª–æ–∫–æ–º D (–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è):
–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º

üìà –°–¢–ê–¢–£–° –†–ê–ó–†–ê–ë–û–¢–ö–ò
–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

SQL —Å—Ö–µ–º—ã

API —Ä–æ—É—Ç—ã

–°–µ—Ä–≤–∏—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –§–ù–° (—Ä–µ–∞–ª—å–Ω–∞—è)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
